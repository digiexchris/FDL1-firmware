Slightly modified to make it stand-alone, and stripped down to fit this use case a little better (no constructor, with a setup() function instead)

--Chris Chatelain
